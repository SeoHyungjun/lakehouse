# Lakehouse í”Œë«í¼

> í˜„ëŒ€ì ì¸ ë°ì´í„° ë ˆì´í¬í•˜ìš°ìŠ¤ í”Œë«í¼ - Kubernetes ë„¤ì´í‹°ë¸Œ, ë²¤ë” ì¤‘ë¦½ì , í”„ë¡œë•ì…˜ ì¤€ë¹„ ì™„ë£Œ

[English](README.md) | **í•œêµ­ì–´**

---

## ğŸ“‹ ëª©ì°¨

- [ê°œìš”](#ê°œìš”)
- [ì£¼ìš” íŠ¹ì§•](#ì£¼ìš”-íŠ¹ì§•)
- [ë¹ ë¥¸ ì‹œì‘](#ë¹ ë¥¸-ì‹œì‘)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ë¬¸ì„œ](#ë¬¸ì„œ)

---

## ê°œìš”

LakehouseëŠ” **ë°ì´í„° ë ˆì´í¬**ì™€ **ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤**ì˜ ì¥ì ì„ ê²°í•©í•œ í˜„ëŒ€ì ì¸ ë°ì´í„° í”Œë«í¼ì…ë‹ˆë‹¤. Apache Iceberg, Trino, MinIOë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì–´ ìˆìœ¼ë©°, Kubernetesì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

### ì™œ Lakehouseì¸ê°€?

- ğŸ¢ **ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ì˜ ì„±ëŠ¥**: SQL ì¿¼ë¦¬ë¡œ ë¹ ë¥¸ ë¶„ì„
- ğŸ’° **ë°ì´í„° ë ˆì´í¬ì˜ ê²½ì œì„±**: ì €ë ´í•œ ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©
- ğŸ”’ **ACID íŠ¸ëœì­ì…˜**: Apache Icebergë¡œ ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥
- ğŸ”„ **Time Travel**: ê³¼ê±° ì‹œì ì˜ ë°ì´í„° ì¡°íšŒ ê°€ëŠ¥
- ğŸš€ **í™•ì¥ì„±**: Kubernetes ê¸°ë°˜ ë¬´í•œ í™•ì¥

---

## ì£¼ìš” íŠ¹ì§•

### ğŸ¯ í•µì‹¬ ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  | ê¸°ìˆ  ìŠ¤íƒ |
|---------|------|----------|
| **ê°ì²´ ìŠ¤í† ë¦¬ì§€** | ì‹¤ì œ ë°ì´í„° íŒŒì¼ ì €ì¥ | MinIO (S3 í˜¸í™˜) |
| **ë©”íƒ€ë°ì´í„° ê´€ë¦¬** | í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë° ë©”íƒ€ë°ì´í„° | Apache Iceberg REST Catalog |
| **ì¿¼ë¦¬ ì—”ì§„** | SQL ì¿¼ë¦¬ ì‹¤í–‰ | Trino |
| **ì›Œí¬í”Œë¡œìš°** | ë°ì´í„° íŒŒì´í”„ë¼ì¸ ìŠ¤ì¼€ì¤„ë§ | Apache Airflow |
| **ëª¨ë‹ˆí„°ë§** | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì‹œê°í™” | Prometheus + Grafana |
| **GitOps** | ë°°í¬ ìë™í™” | ArgoCD |

### âœ¨ ì£¼ìš” ê¸°ëŠ¥

- âœ… **ì™„ì „ ìë™í™” ë°°í¬**: í•œ ë²ˆì˜ ëª…ë ¹ìœ¼ë¡œ ì „ì²´ í”Œë«í¼ ì„¤ì¹˜
- âœ… **í™˜ê²½ë³„ ì„¤ì •**: ê°œë°œ/ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜ í™˜ê²½ ë¶„ë¦¬
- âœ… **ê³ ê°€ìš©ì„±(HA)**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë¬´ì¤‘ë‹¨ ìš´ì˜
- âœ… **ë²¤ë” ì¤‘ë¦½ì **: íŠ¹ì • í´ë¼ìš°ë“œì— ì¢…ì†ë˜ì§€ ì•ŠìŒ
- âœ… **ì™„ë²½í•œ ê´€ì°°ì„±**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ë©”íŠ¸ë¦­ ë° ë¡œê·¸ ìˆ˜ì§‘

---

## ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

```bash
# macOS
brew install kubectl helm terraform kind

# Linux - ìì„¸í•œ ë‚´ìš©ì€ docs/GETTING_STARTED_KR.md ì°¸ì¡°
```

### 5ë¶„ ì•ˆì— ì‹œì‘í•˜ê¸°

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/SeoHyungjun/lakehouse.git
cd lakehouse

# 2. ê°œë°œ í™˜ê²½ ë°°í¬
./scripts/bootstrap.sh dev

# 3. ì„œë¹„ìŠ¤ ì ‘ì†
kubectl port-forward -n lakehouse-platform svc/trino 8080:8080 &
kubectl port-forward -n lakehouse-platform svc/minio 9000:9000 &

# 4. ì²« ë²ˆì§¸ ì¿¼ë¦¬ ì‹¤í–‰
trino --server localhost:8080 --catalog iceberg --schema default
```

**ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰** Lakehouse í”Œë«í¼ì´ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.

ìì„¸í•œ ê°€ì´ë“œëŠ” **[ì‹œì‘ ê°€ì´ë“œ](docs/GETTING_STARTED_KR.md)**ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ì•„í‚¤í…ì²˜

### ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ì‚¬ìš©ì / ì• í”Œë¦¬ì¼€ì´ì…˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚  Trino   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Airflow  â”‚
    â”‚ (ì¿¼ë¦¬)    â”‚  SQL     â”‚(ì›Œí¬í”Œë¡œìš°)â”‚
    â””â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚   â”‚
       â”‚   â”‚  â‘  ë©”íƒ€ë°ì´í„° ì¡°íšŒ
       â”‚   â””â”€â”€â”¤ Iceberg Catalogâ”‚
       â”‚      â”‚  (ë©”íƒ€ë°ì´í„°)   â”‚
       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚ â‘¢ ë©”íƒ€ë°ì´í„° ì €ì¥
       â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
       â””â”€â”€â”€â”€â”€â”€â”¤     MinIO       â”‚ â‘¡ ë°ì´í„° ì½ê¸°/ì“°ê¸°
              â”‚  (ë°ì´í„° ì €ì¥)   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

1. **SQL ì¿¼ë¦¬ ì‹¤í–‰**: 
   - ì‚¬ìš©ì/Airflow â†’ Trino (SQL ì¿¼ë¦¬)
   - Trino â†’ Iceberg Catalog (ë©”íƒ€ë°ì´í„° ì¡°íšŒ)
   - Trino â†’ MinIO (ë°ì´í„° íŒŒì¼ ì½ê¸°/ì“°ê¸°)

2. **ë©”íƒ€ë°ì´í„° ê´€ë¦¬**:
   - Iceberg Catalog â†’ MinIO (ë©”íƒ€ë°ì´í„° íŒŒì¼ ì €ì¥)

3. **ì›Œí¬í”Œë¡œìš°**:
   - Airflow â†’ Trino (SQLë§Œ ì‚¬ìš©, ì§ì ‘ Iceberg ì ‘ê·¼ ì•ˆ í•¨)

ìì„¸í•œ ì•„í‚¤í…ì²˜ëŠ” **[ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](docs/ARCHITECTURE_KR.md)**ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
lakehouse/
â”œâ”€â”€ contracts/              # ğŸ“‹ ì»´í¬ë„ŒíŠ¸ ì¸í„°í˜ì´ìŠ¤ ê³„ì•½ (API ìŠ¤í™)
â”‚   â”œâ”€â”€ README.md                # ê³„ì•½ì„œ ì„¤ëª…
â”‚   â”œâ”€â”€ repository-contract.md   # ì €ì¥ì†Œ êµ¬ì¡° ê·œì¹™
â”‚   â”œâ”€â”€ kubernetes-cluster.md    # K8s í´ëŸ¬ìŠ¤í„° ìš”êµ¬ì‚¬í•­
â”‚   â”œâ”€â”€ object-storage.md        # S3 API ê³„ì•½
â”‚   â”œâ”€â”€ iceberg-catalog.md       # Iceberg REST ê³„ì•½
â”‚   â”œâ”€â”€ query-engine.md          # Trino SQL ê³„ì•½
â”‚   â”œâ”€â”€ service-module.md        # ì„œë¹„ìŠ¤ í‘œì¤€ ê³„ì•½
â”‚   â””â”€â”€ workflow-orchestration.md # ì›Œí¬í”Œë¡œìš° ê³„ì•½
â”‚
â”œâ”€â”€ docs/                   # ğŸ“š ì‚¬ìš©ì ë¬¸ì„œ
â”‚   â”œâ”€â”€ README.md                # ë¬¸ì„œ ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”œâ”€â”€ INDEX_KR.md              # ë¬¸ì„œ ì¸ë±ìŠ¤
â”‚   â”œâ”€â”€ GETTING_STARTED_KR.md    # ì‹œì‘ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ ARCHITECTURE_KR.md       # ì•„í‚¤í…ì²˜ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ runbook.md               # ìš´ì˜ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ SECRET_MANAGEMENT_KR.md  # ì‹œí¬ë¦¿ ê´€ë¦¬
â”‚   â””â”€â”€ AIRFLOW_DAG_ENV_KR.md    # Airflow DAG ê°œë°œ
â”‚
â”œâ”€â”€ env/                    # âš™ï¸  í™˜ê²½ë³„ ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ dev/                     # ê°œë°œ í™˜ê²½
â”‚   â”‚   â”œâ”€â”€ terraform.tfvars
â”‚   â”‚   â”œâ”€â”€ minio-values.yaml
â”‚   â”‚   â”œâ”€â”€ iceberg-catalog-values.yaml
â”‚   â”‚   â”œâ”€â”€ trino-values.yaml
â”‚   â”‚   â””â”€â”€ airflow-values.yaml
â”‚   â”œâ”€â”€ staging/                 # ìŠ¤í…Œì´ì§• í™˜ê²½
â”‚   â””â”€â”€ prod/                    # í”„ë¡œë•ì…˜ í™˜ê²½
â”‚
â”œâ”€â”€ infra/                  # ğŸ—ï¸  ì¸í”„ë¼ ì½”ë“œ (Terraform)
â”‚   â”œâ”€â”€ main.tf
â”‚   â”œâ”€â”€ variables.tf
â”‚   â””â”€â”€ modules/
â”‚       â”œâ”€â”€ cluster/
â”‚       â”œâ”€â”€ network/
â”‚       â””â”€â”€ storage/
â”‚
â”œâ”€â”€ platform/               # ğŸ¯ í”Œë«í¼ ì»´í¬ë„ŒíŠ¸ (Helm ì°¨íŠ¸)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ minio/                   # MinIO (S3 ìŠ¤í† ë¦¬ì§€)
â”‚   â”œâ”€â”€ iceberg-catalog/         # Iceberg Catalog
â”‚   â”œâ”€â”€ trino/                   # Trino (ì¿¼ë¦¬ ì—”ì§„)
â”‚   â”œâ”€â”€ airflow/                 # Airflow (ì›Œí¬í”Œë¡œìš°)
â”‚   â”œâ”€â”€ observability/           # Prometheus + Grafana
â”‚   â””â”€â”€ argocd/                  # ArgoCD (GitOps)
â”‚
â”œâ”€â”€ scripts/                # ğŸ”§ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ bootstrap.sh             # ì „ì²´ í”Œë«í¼ ë°°í¬
â”‚   â”œâ”€â”€ cleanup.sh               # í”Œë«í¼ ì œê±°
â”‚   â””â”€â”€ validate.sh              # í”Œë«í¼ ê²€ì¦
â”‚
â”œâ”€â”€ services/               # ğŸš€ ì»¤ìŠ¤í…€ ì„œë¹„ìŠ¤ ì˜ˆì œ
â”‚   â””â”€â”€ sample-service/
â”‚
â”œâ”€â”€ workflows/              # ğŸ”„ ì›Œí¬í”Œë¡œìš° ì˜ˆì œ
â”‚   â””â”€â”€ sample-job/
â”‚
â””â”€â”€ tests/                  # âœ… í…ŒìŠ¤íŠ¸
    â””â”€â”€ e2e/
```

---

## ë¬¸ì„œ

### ğŸ“š ì£¼ìš” ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| **[ë¬¸ì„œ ê°€ì´ë“œ](docs/README.md)** | ë¬¸ì„œ êµ¬ì¡° ë° ë„¤ë¹„ê²Œì´ì…˜ |
| **[ì‹œì‘ ê°€ì´ë“œ](docs/GETTING_STARTED_KR.md)** | ì²˜ìŒ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì™„ë²½ ê°€ì´ë“œ |
| **[ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](docs/ARCHITECTURE_KR.md)** | ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë° ì„¤ê³„ |
| **[ìš´ì˜ ê°€ì´ë“œ](docs/runbook.md)** | ë°°í¬, ì—…ê·¸ë ˆì´ë“œ, ë¬¸ì œ í•´ê²° |
| **[ì‹œí¬ë¦¿ ê´€ë¦¬](docs/SECRET_MANAGEMENT_KR.md)** | ë³´ì•ˆ ë° ì¸ì¦ ì„¤ì • |
| **[Airflow ê°€ì´ë“œ](docs/AIRFLOW_DAG_ENV_KR.md)** | DAG ê°œë°œ ê°€ì´ë“œ |

### ğŸ“‹ ê³„ì•½ì„œ (Contracts)

ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ëª…í™•í•œ ì¸í„°í˜ì´ìŠ¤ ê³„ì•½ì„ ë”°ë¦…ë‹ˆë‹¤:

| ê³„ì•½ì„œ | ì„¤ëª… |
|--------|------|
| **[ê³„ì•½ì„œ ê°œìš”](contracts/README.md)** | ê³„ì•½ì„œ ì‹œìŠ¤í…œ ì„¤ëª… |
| **[ì €ì¥ì†Œ êµ¬ì¡°](contracts/repository-contract.md)** | ë””ë ‰í† ë¦¬ êµ¬ì¡° ë° ì±…ì„ |
| **[Kubernetes í´ëŸ¬ìŠ¤í„°](contracts/kubernetes-cluster.md)** | í´ëŸ¬ìŠ¤í„° ìš”êµ¬ì‚¬í•­ |
| **[ê°ì²´ ìŠ¤í† ë¦¬ì§€](contracts/object-storage.md)** | S3 API ì¸í„°í˜ì´ìŠ¤ |
| **[Iceberg Catalog](contracts/iceberg-catalog.md)** | ì¹´íƒˆë¡œê·¸ REST API |
| **[ì¿¼ë¦¬ ì—”ì§„](contracts/query-engine.md)** | Trino SQL ì¸í„°í˜ì´ìŠ¤ |
| **[ì„œë¹„ìŠ¤ ëª¨ë“ˆ](contracts/service-module.md)** | ì„œë¹„ìŠ¤ í‘œì¤€ ê·œê²© |
| **[ì›Œí¬í”Œë¡œìš°](contracts/workflow-orchestration.md)** | ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ê·œê²© |

---

## í™˜ê²½ë³„ ë°°í¬

### ê°œë°œ í™˜ê²½
```bash
./scripts/bootstrap.sh dev
# - ë‹¨ì¼ ë…¸ë“œ, ìµœì†Œ ë¦¬ì†ŒìŠ¤
# - ë¡œì»¬ Kind í´ëŸ¬ìŠ¤í„°
```

### ìŠ¤í…Œì´ì§• í™˜ê²½
```bash
./scripts/bootstrap.sh staging
# - 3ê°œ ë…¸ë“œ (HA)
# - ì¤‘ê°„ ë¦¬ì†ŒìŠ¤
# - ì™¸ë¶€ ì ‘ì† í™œì„±í™”
```

### í”„ë¡œë•ì…˜ í™˜ê²½
```bash
./scripts/bootstrap.sh prod
# - 5+ ë…¸ë“œ (ê³ ê°€ìš©ì„±)
# - ìµœëŒ€ ë¦¬ì†ŒìŠ¤
# - TLS/OAuth2 ì¸ì¦
# - ì—„ê²©í•œ ë³´ì•ˆ ì •ì±…
```

---

## í•µì‹¬ ì›ì¹™

> **Everything is replaceable.  
> Nothing is hardcoded.  
> Git defines reality.**

1. **ëª¨ë“ˆí™”**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” êµì²´ ê°€ëŠ¥
2. **ê³„ì•½ ì¤€ìˆ˜**: ëª…í™•í•œ ì¸í„°í˜ì´ìŠ¤ ê³„ì•½
3. **í™˜ê²½ ë…ë¦½ì **: ê°œë°œ/ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜ ë™ì¼í•œ ì½”ë“œ
4. **GitOps**: Gitì´ ìœ ì¼í•œ ì§„ì‹¤ì˜ ì›ì²œ
5. **ê´€ì°°ì„±**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ë©”íŠ¸ë¦­/ë¡œê·¸/í—¬ìŠ¤ì²´í¬ í•„ìˆ˜

ìƒì„¸í•œ ë‚´ìš©ì€ **[README.md](README.md)**ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ë¼ì´ì„ ìŠ¤

Apache 2.0 License - ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ ì°¸ì¡°

---

## ê°ì‚¬ì˜ ë§

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤:
- [Apache Iceberg](https://iceberg.apache.org/)
- [Trino](https://trino.io/)
- [MinIO](https://min.io/)
- [Apache Airflow](https://airflow.apache.org/)
- [Prometheus](https://prometheus.io/) / [Grafana](https://grafana.com/)
- [ArgoCD](https://argoproj.github.io/cd/)

---

**Happy Data Engineering! ğŸš€**

<div align="center">

Made with â¤ï¸ by the Lakehouse Team

[â¬† ë§¨ ìœ„ë¡œ](#lakehouse-í”Œë«í¼)

</div>
