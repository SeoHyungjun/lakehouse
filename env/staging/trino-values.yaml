# Trino Staging Environment Configuration
# Platform defaults: platform/trino/values.yaml
# Override ONLY environment-specific values

trino:
  server:
    # Staging coordinator with increased CPU
    coordinator:
      resources:
        requests:
          memory: 4Gi
          cpu: 2000m  # Higher than platform default (1000m)
        limits:
          memory: 8Gi
          cpu: 4000m
    
    # Staging worker with increased CPU
    worker:
      resources:
        requests:
          memory: 4Gi
          cpu: 2000m  # Higher than platform default (1000m)
        limits:
          memory: 8Gi
          cpu: 4000m

  # Override warehouse path for staging environment
  additionalCatalogs:
    iceberg: |
      connector.name=iceberg
      iceberg.catalog.type=rest
      iceberg.rest.uri=http://iceberg-catalog.lakehouse-platform.svc.cluster.local:8181
      iceberg.rest.warehouse=s3://lakehouse-staging-warehouse/
      fs.native-s3.enabled=true
      s3.endpoint=http://minio.lakehouse-platform.svc.cluster.local:9000
      s3.path-style-access=true
      s3.aws-access-key=${ENV:S3_ACCESS_KEY}
      s3.aws-secret-key=${ENV:S3_SECRET_KEY}
      s3.region=us-east-1

