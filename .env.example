# Lakehouse Platform Secrets
# Copy this file to .env and fill in the real values.
# .env is gitignored and should NEVER be committed.

# ==========================================
# MinIO (S3 Compatible Storage)
# ==========================================
# Password must be at least 8 characters
MINIO_ROOT_USER=change_me_minio_user
MINIO_ROOT_PASSWORD=change_me_minio_password

# ==========================================
# Database (Postgres)
# ==========================================
# Used by Airflow and Iceberg Catalog
POSTGRES_USER=change_me_postgres_user
POSTGRES_PASSWORD=change_me_postgres_password

# ==========================================
# Airflow
# ==========================================
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=change_me_airflow_password
AIRFLOW_WEBSERVER_SECRET_KEY=change_me_airflow_secret
# Generate Fernet key: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
AIRFLOW_FERNET_KEY=change_me_fernet_key

# ==========================================
# Observability (Grafana)
# ==========================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_grafana_password

# ==========================================
# Airflow External Connections
# ==========================================
# PostgreSQL Connection for DAGs (not Airflow metadata DB)
# Format: postgresql://user:password@host:port/database
# Default: Kind internal PostgreSQL (same as Airflow metadata DB)
AIRFLOW_CONN_POSTGRES_DEFAULT=postgresql://lakehouse:lakehouse@airflow-postgresql.lakehouse-platform:5432/airflow

# MinIO endpoint URL (for boto3 client in DAGs)
MINIO_ENDPOINT_URL=http://minio.lakehouse-platform:9000

# MinIO Connection for Airflow DAGs (S3 Compatible)
# Format: s3://access_key:secret_key@bucket_name?__extra__=url_encoded_json
# __extra__ contains JSON with endpoint_url: {"endpoint_url":"http://minio:9000"}
AIRFLOW_CONN_AWS_DEFAULT=s3://lakehouse:lakehouse@lakehouse?__extra__=%7B%22endpoint_url%22%3A%22http%3A%2F%2Fminio%3A9000%22%7D

# ==========================================
# Airflow GitSync
# ==========================================
# GitHub credentials for GitSync to pull DAGs from lakehouse-dags repository
GITHUB_USERNAME=your_github_username
GITHUB_TOKEN=your_github_pat_token
